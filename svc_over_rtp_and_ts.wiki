= SVC over MPEG-2 TS =
mtime: 2012-11-06 21:03:46
----
给出简单介绍,并且描述在MPEG2体系中使用SVC的细节.

== MPEG2 TS ==
为了封装ES数据(比特流数据)到MPEG2 TS,MPEG2系统定义了PES(打包的ES).

PES提供了编码视频帧和AU的打包方法.一个AU封装使用PES包. 

*PES包的头提供分帧,大小信息,流类型说明以及其他的媒体帧相关信息例如解码或者显示的时间戳.*

PES中的时间信息是相对于PCR(节目时间引用).PCR包含在每个节目流的TS包里面.

一个AU可能传输为一个或者多个PES包.

对于SVC而言,每个AU使用一个PES包.

----

PES包分帧多个TS包.

在TS包层面上可以复用包含相同或者不同节目的其他媒体ES数据.

除了PES数据,PSI(节目指定信息)表,映射节目信息到TS头部的PID信息.

TS提供了固定的分割大小,184字节的数据,4个字节的TS头部.TS头部带有例如PID信息.

----

已经提到TS提供不同节目的不同ES的PES数据.每个通过自身的PID区分.

对于比较新的情况,提供PAT(节目关联表).默认的PID为0,指明不同的节目(TV信道).

每个节目有自己的PMT(节目映射表).使用一个分离的PID.(通过PAT指明).

在PMT中,各个节目的信息信息(例如不同PES的PID)指明.

PSI表就像PAT和PMT一样,在TS复用中固定间隔,用于提供表的接入和解复用.

图4,显示了各个表的关系.

在举的例子中,****

更多细节关于SVC封装到MPEG2 PES和TS包,在下一节给出.

----
== SVC in MPEG2 TS ==

传输SVC在mpeg2 ts之上的关键是将SVC层分布到不同的PES上,通过指明TS的不同PID.

不同于SVC视频封装到RTP上,传输SVC在TS上的修订定义了更为严格的方式.

----

AVC基础层定义了自己的PID.流类型为0x1B.这表明当前AVC比特流的AVC profiles.参考H.264 2007 附录A.

SVC增强传输到其他的PES中,通过指明不同的PID.

例如SVC PES指明为流类型为0x1F.这指明了AVC比特流的SVC profile,参考H.264 2007 附录G.

一个SVC PES包含了视频的子流,这通过SVC NAL单元头信息扩展的D确定.???

这个规则保证了一个包含了较低视频子流(例如AVC基础层)特定AU的也被包含在所有的较高层的SVC视频子流中.

???没有看到这个地方TODO:

这对于AU重新解析的过程是非常重要的,这类似于RTP负载中的NI-T模式.

----

图5表示了SVC视频如何分离到不同的ES,每个ES包含自己的PES.

一个依赖表现(DR)表明一个SVC AU关联到特定的D值.

举例的SVC比特流包含了不同的D值,(???)

例子流另外显示了不同的帧率在不同的视频子流,通过不同的DR值,表现AU在比特流的依赖位置.

----

为了区分SVC nalu的不同的Q值,应用解析到PES流,这样一个在AVC基础层的质量增强???

对于SVC视频子流的,有3个不同的描述子,包含了节目元素的SVC子流.

- 层次描述:指明PES包含子流的依赖关系和尺度类型,例如时间,空间,质量.
- AVC描述:比特流的profile和level的细节信息
- SVC扩展描述:PES中关于比特率,解析率,DQT范围等信息.
